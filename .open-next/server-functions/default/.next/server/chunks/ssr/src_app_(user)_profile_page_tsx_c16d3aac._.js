module.exports=[55459,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(92414),e=a.i(70025),f=a.i(33217),g=a.i(37927),h=a.i(1012);let i=async()=>(await h.default.get("/sessions")).data.data,j=async()=>(await h.default.delete("/sessions")).data.data,k=async a=>(await h.default.delete(`/sessions/${a}`)).data.data;var l=a.i(91119),m=a.i(99570),n=a.i(66718),o=a.i(70430),p=a.i(6015),q=a.i(86304),r=a.i(96221),s=a.i(3314),t=a.i(46842),u=a.i(70106);let v=(0,u.default)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),w=(0,u.default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),x=(0,u.default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var y=a.i(20005);let z=(0,u.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),A=(0,u.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var B=a.i(92258);let C=(0,u.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),D=(0,u.default)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var E=a.i(23292),F=a.i(50944),G=a.i(88621),H=a.i(5084),I=a.i(83995),J=a.i(72233),K=a.i(68114);function L(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"flex h-[80vh] items-center justify-center",children:(0,b.jsx)(r.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}),children:(0,b.jsx)(M,{})})}function M(){let a,h,u=(0,F.useSearchParams)(),L=(0,F.useRouter)(),M=u.get("tab")||"general",{data:N,isLoading:O}=(0,d.useUser)(),{data:P,isLoading:Q}=(0,f.useQuery)({queryKey:["user","sessions"],queryFn:()=>i()}),{mutate:R,isPending:S}=(0,d.useUpdateUser)(),{mutate:T,isPending:U}=(a=(0,g.useQueryClient)(),(0,e.useMutation)({mutationFn:a=>k(a),onSuccess:()=>{a.invalidateQueries({queryKey:["user","sessions"]})}})),{mutate:V,isPending:W}=(h=(0,g.useQueryClient)(),(0,e.useMutation)({mutationFn:()=>j(),onSuccess:()=>{h.invalidateQueries({queryKey:["user","sessions"]})}})),[X,Y]=c.default.useState({name:"",username:"",email:"",phone:""});if(c.default.useEffect(()=>{N&&Y({name:N.name||"",username:N.username||"",email:N.email||"",phone:N.phone||""})},[N]),O||Q)return(0,b.jsx)("div",{className:"flex h-[80vh] items-center justify-center",children:(0,b.jsx)(r.Loader2,{className:"h-8 w-8 animate-spin text-primary"})});if(!N)return null;let Z=[{id:"general",label:"General",icon:t.User},{id:"security",label:"Security",icon:s.Shield}];return(0,b.jsxs)("main",{className:"flex-1 flex flex-col bg-background overflow-y-auto",children:[(0,b.jsxs)("header",{className:"flex items-center justify-between px-5 py-2 border-b border-border/50 min-h-[52px] bg-background/80 backdrop-blur-sm sticky top-0 z-10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(G.SidebarTrigger,{className:"-ml-1 text-muted-foreground hover:text-foreground"}),(0,b.jsx)(H.Separator,{orientation:"vertical",className:"h-5 bg-border/60"}),(0,b.jsx)("h2",{className:"text-sm font-medium",children:"Account Settings"})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)(I.default,{})})]}),(0,b.jsx)("div",{className:"container max-w-6xl py-8 px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,b.jsx)("aside",{className:"lg:w-64 shrink-0",children:(0,b.jsx)("nav",{className:"flex flex-col gap-1.5",children:Z.map(a=>(0,b.jsxs)("button",{onClick:()=>{var b;let c;return b=a.id,void((c=new URLSearchParams(u.toString())).set("tab",b),L.push(`?${c.toString()}`))},className:(0,K.cn)("relative flex items-center gap-3 px-4 py-2.5 text-sm font-medium rounded-r-lg transition-all duration-200 group overflow-hidden",M===a.id?"bg-primary/5 text-primary":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[M===a.id&&(0,b.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-[3px] bg-primary shadow-[0_0_10px_rgba(var(--color-primary),0.5)]"}),(0,b.jsx)(a.icon,{className:(0,K.cn)("h-4 w-4 transition-transform duration-200",M===a.id?"scale-110":"group-hover:scale-110")}),a.label]},a.id))})}),(0,b.jsxs)("div",{className:"flex-1 space-y-6",children:["general"===M&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold tracking-tight",children:"General Information"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage your public profile and contact details."})]}),(0,b.jsx)(H.Separator,{}),(0,b.jsxs)("div",{className:"flex items-center gap-6 p-6 border border-white/10 dark:border-white/5 rounded-xl bg-white/50 dark:bg-white/[0.02] shadow-sm backdrop-blur-md",children:[(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsxs)(J.Avatar,{className:"h-24 w-24 border-4 border-background shadow-lg",children:[(0,b.jsx)(J.AvatarImage,{src:"",alt:N.name||""}),(0,b.jsx)(J.AvatarFallback,{className:"text-2xl bg-primary/10 text-primary",children:N.name?.charAt(0).toUpperCase()})]}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:(0,b.jsx)(A,{className:"h-6 w-6 text-white"})})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("h4",{className:"text-lg font-medium",children:"Profile Picture"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground max-w-[250px]",children:"Supports JPG, PNG and GIF. Max file size 2MB."}),(0,b.jsx)(m.Button,{variant:"outline",size:"sm",className:"h-8 mt-2 bg-transparent border-primary/20 hover:bg-primary/5 hover:text-primary transition-colors",children:"Upload New"})]})]}),(0,b.jsx)("form",{onSubmit:a=>{a.preventDefault(),R(X,{onSuccess:()=>E.toast.success("Profile updated successfully"),onError:a=>E.toast.error(a.message||"Failed to update profile")})},children:(0,b.jsx)(l.Card,{className:"border-white/10 dark:border-white/5 bg-white/50 dark:bg-white/[0.02] backdrop-blur-md shadow-sm",children:(0,b.jsxs)(l.CardContent,{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"name",className:"text-[0.7rem] uppercase tracking-wider text-muted-foreground font-semibold",children:"Full Name"}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)(t.User,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),(0,b.jsx)(n.Input,{id:"name",value:X.name,onChange:a=>Y({...X,name:a.target.value}),className:"pl-9 h-10 bg-white/5 dark:bg-black/5 border-black/10 dark:border-white/10 focus-visible:ring-0 focus-visible:border-primary/50 focus-visible:shadow-[0_0_15px_rgba(var(--color-primary),0.1)] transition-all duration-300",placeholder:"Enter your name"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"username",className:"text-[0.7rem] uppercase tracking-wider text-muted-foreground font-semibold",children:"Username"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(D,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(n.Input,{id:"username",value:X.username,disabled:!0,className:"pl-9 h-10 bg-muted/30 border-black/5 dark:border-white/5 opacity-70"})]}),(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Username cannot be changed."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"email",className:"text-[0.7rem] uppercase tracking-wider text-muted-foreground font-semibold",children:"Email Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(B.Mail,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(n.Input,{id:"email",value:X.email,disabled:!0,className:"pl-9 h-10 bg-muted/30 border-black/5 dark:border-white/5 opacity-70"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"phone",className:"text-[0.7rem] uppercase tracking-wider text-muted-foreground font-semibold",children:"Phone Number"}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)(C,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),(0,b.jsx)(n.Input,{id:"phone",value:X.phone,onChange:a=>Y({...X,phone:a.target.value}),className:"pl-9 h-10 bg-white/5 dark:bg-black/5 border-black/10 dark:border-white/10 focus-visible:ring-0 focus-visible:border-primary/50 focus-visible:shadow-[0_0_15px_rgba(var(--color-primary),0.1)] transition-all duration-300",placeholder:"+1234567890"})]})]})]}),(0,b.jsx)("div",{className:"flex justify-end pt-4 border-t mt-4",children:(0,b.jsxs)(m.Button,{type:"submit",disabled:S,className:"h-10 px-6 shadow-[0_0_15px_rgba(var(--color-primary),0.3)] hover:shadow-[0_0_25px_rgba(var(--color-primary),0.5)] transition-all duration-300",children:[S?(0,b.jsx)(r.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Save Changes"]})})]})})})]}),"security"===M&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium",children:"Security Settings"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage your active sessions and device history."})]}),(0,b.jsx)(H.Separator,{}),(0,b.jsxs)(l.Card,{className:"border-white/10 dark:border-white/5 bg-white/50 dark:bg-white/[0.02] backdrop-blur-md shadow-sm",children:[(0,b.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(l.CardTitle,{className:"text-base",children:"Active Sessions"}),(0,b.jsx)(l.CardDescription,{children:"Devices currently logged into your account."})]}),(0,b.jsxs)(m.Button,{variant:"destructive",size:"sm",onClick:()=>{V(void 0,{onSuccess:()=>E.toast.success("All other sessions revoked"),onError:a=>E.toast.error(a.message||"Failed to revoke sessions")})},disabled:W,className:"h-8",children:[(0,b.jsx)(y.LogOut,{className:"mr-2 h-3.5 w-3.5"}),"Revoke All Others"]})]}),(0,b.jsx)(l.CardContent,{className:"p-0",children:(0,b.jsx)("div",{className:"border-t",children:(0,b.jsxs)(p.Table,{children:[(0,b.jsx)(p.TableHeader,{children:(0,b.jsxs)(p.TableRow,{className:"bg-muted/50 hover:bg-muted/50",children:[(0,b.jsx)(p.TableHead,{className:"pl-6",children:"Device"}),(0,b.jsx)(p.TableHead,{children:"Location"}),(0,b.jsx)(p.TableHead,{children:"Status"}),(0,b.jsx)(p.TableHead,{className:"text-right pr-6",children:"Action"})]})}),(0,b.jsx)(p.TableBody,{children:P?.sessions.map(a=>{let c;return(0,b.jsxs)(p.TableRow,{children:[(0,b.jsx)(p.TableCell,{className:"pl-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-muted border border-border/50",children:(c=a.user_agent.toLowerCase()).includes("mobi")||c.includes("android")||c.includes("iphone")?(0,b.jsx)(w,{className:"h-4 w-4"}):(0,b.jsx)(v,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-sm font-medium truncate max-w-[180px]",children:a.user_agent}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Last active:"," ",new Date(a.created_at).toLocaleDateString()]})]})]})}),(0,b.jsx)(p.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[(0,b.jsx)(x,{className:"h-3.5 w-3.5"}),a.ip_address]})}),(0,b.jsx)(p.TableCell,{children:(0,b.jsx)(q.Badge,{variant:"secondary",className:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-500/20 border-emerald-500/20",children:"Active"})}),(0,b.jsx)(p.TableCell,{className:"text-right pr-6",children:(0,b.jsx)(m.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive hover:bg-destructive/10",onClick:()=>{T(a.id,{onSuccess:()=>E.toast.success("Session revoked"),onError:a=>E.toast.error(a.message||"Failed to revoke session")})},disabled:U,children:(0,b.jsx)(z,{className:"h-4 w-4"})})})]},a.id)})})]})})})]})]})]})]})})]})}a.s(["default",()=>L],55459)}];

//# sourceMappingURL=src_app_%28user%29_profile_page_tsx_c16d3aac._.js.map